<%- include('../../include/head.ejs') %>
<%- include('../../include/navigation.ejs') %>

<section class="container main__container">
  <h1 class="main__title"><%= pageTitle %></h1>

  <!-- Responsive grid: main + sidebar -->
  <div class="grid grid-cols-main-sidebar">

    <!-- Glavni sadržaj -->
    <div class="w-full">

      <!-- Slika objave -->
      <div class="feature-image">
        <img src="/images/<%= post.Slika.value %>" alt="<%= post.Slika.Opis.value %>">
      </div>

      <!-- Kratak opis -->
      <div class="section__block">
        <p><%= post.Opis.value %></p>
      </div>

      <!-- Glavni sadržaj (HTML delovi) -->
      <div class="section__block blog__content-container">
        <% post.Sadržaj.value.forEach(content => { %>
          <%- content %>
        <% }) %>
      </div>
    </div>

    <!-- Sidebar: kategorije i tagovi -->
    <aside class="w-full">
      <div class="blog__sidebar">
        <% if (post.Kategorije?.value?.length) { %>
          <h2 class="blog__subtitle">Kategorije:</h2>
          <ul class="blog__list">
            <% post.Kategorije.value.forEach(c => { %>
              <li><a class="blog__list-link" href="/forum/kategorija/<%= c.Slug %>"><%= c.Naziv %></a></li>
            <% }) %>
          </ul>
        <% } %>

        <% if (post.Tagovi?.value?.length) { %>
          <h2 class="blog__subtitle">Tagovi:</h2>
          <ul class="blog__list">
            <% post.Tagovi.value.forEach(t => { %>
              <li><a class="blog__list-link" href="/forum/oznaka/<%= t.Slug %>"><%= t.Naziv %></a></li>
            <% }) %>
          </ul>
        <% } %>
      </div>
    </aside>

  </div>
</section>

<%- include('../../include/end.ejs') %>
